<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: snake.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: snake.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
 /***************************************************************************
 **                 Variabelen                                             **
 ***************************************************************************/
  
 /***************************************************************************
 **                 Hulpfuncties                                           **
 ***************************************************************************/
function newX(x, direction) {
    if (direction === MOVE.LEFT) {
        return x - MOVE.STEP;
    } else if (direction === MOVE.RIGHT) {
        return x + MOVE.STEP;
    }
    return x;
}

function newY(y, direction) {
    if (direction === MOVE.DOWN) {
        return y + MOVE.STEP;
    } else if (direction === MOVE.UP) {
        return y - MOVE.STEP;
    }
    return y;
}

function moveSegment(segment , direction) {
    segment.x = newX(segment.x, direction);
    segment.y = newY(segment.y, direction);
}

function isValidMove(x, y) {
    if (x >= FIELD.XMIN &amp;&amp; x &lt;= FIELD.XMAX &amp;&amp; y >= FIELD.YMIN &amp;&amp; y &lt;= FIELD.YMAX) {
        return true;
    } else {
        return false;
    }
}

function newHead(head, direction) {
    headnew = createSegment(head.x, head.y);
    
    moveSegment(headnew, direction);
    
    headnew.color = SNAKE.COLORS.HEAD;
    
    return headnew;
}

 /***************************************************************************
 **                 Prototype                                              **
 ***************************************************************************/

Snake.prototype.getHead = function() {
    return this.segments[this.segments.length - 1];
}

/**
Prototype Snake function
*/
Snake.prototype.canMove = function(direction) {
    head = this.getHead();
    
    return isValidMove(newX(head.x, direction), newY(head.y, direction));
}

Snake.prototype.doMove = function(direction) {
    
    nexthead = newHead(this.getHead(), direction);
    
    if (nexthead.collidesWithOneOf(foods)) {
        foods.splice(nexthead.getIndexNumber(foods), 1);
    } else {        
        this.segments.shift();
    }
    
    this.getHead().color = SNAKE.COLORS.ELEMENT;
    this.segments.push(nexthead);
}

 /***************************************************************************
 **                 Constructor                                            **
 ***************************************************************************/
 


/**
  @function move(direction) -> void
  @desc Beweeg slang in aangegeven richting
        tenzij slang uit canvas zou verdwijnen  
  @param   {string} direction de richting (een van de constanten MOVE.UP, MOVE.DOWN, MOVE.LEFT of MOVE.RIGHT)
*/
function move(direction) {
	if (snake.canMove(direction)) {
		snake.doMove(direction);
		draw();
	}
	else {
		console.log("snake cannot move " + direction);
	}
}


/***************************************************************************
 **                 Constructors                                          **
 ***************************************************************************/
/**
   @constructor Snake
   @param {[Element] segments een array met aaneengesloten slangsegmenten
                   Het laatste element van segments wordt de kop van de slang 
*/ 
function Snake(segments) {
	this.segments = [];
	this.segments = segments;
    
	}
    

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Element.html">Element</a></li><li><a href="Snake.html">Snake</a></li></ul><h3>Global</h3><ul><li><a href="global.html#collidesWithOneOf">collidesWithOneOf</a></li><li><a href="global.html#collidesWithOneOf()-%253E">collidesWithOneOf() -></a></li><li><a href="global.html#createFoods()-%253Earraymetfood">createFoods() -> array met food</a></li><li><a href="global.html#createStartSnake()-%253ESnake">createStartSnake() -> Snake</a></li><li><a href="global.html#draw()-%253Evoid">draw() -> void</a></li><li><a href="global.html#FIELD">FIELD</a></li><li><a href="global.html#FOOD">FOOD</a></li><li><a href="global.html#getIndexNumber">getIndexNumber</a></li><li><a href="global.html#init()-%253Evoid">init() -> void</a></li><li><a href="global.html#MOVE">MOVE</a></li><li><a href="global.html#move(direction)-%253Evoid">move(direction) -> void</a></li><li><a href="global.html#R">R</a></li><li><a href="global.html#SIDELENGTH">SIDELENGTH</a></li><li><a href="global.html#SNAKE">SNAKE</a></li><li><a href="global.html#stop()-%253Evoid">stop() -> void</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Mar 18 2019 19:08:26 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
